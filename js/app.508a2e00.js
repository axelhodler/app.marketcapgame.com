(function(t){function e(e){for(var n,a,c=e[0],i=e[1],u=e[2],d=0,h=[];d<c.length;d++)a=c[d],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&h.push(r[a][0]),r[a]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n]);l&&l(e);while(h.length)h.shift()();return s.push.apply(s,u||[]),o()}function o(){for(var t,e=0;e<s.length;e++){for(var o=s[e],n=!0,c=1;c<o.length;c++){var i=o[c];0!==r[i]&&(n=!1)}n&&(s.splice(e--,1),t=a(a.s=o[0]))}return t}var n={},r={app:0},s=[];function a(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=t,a.c=n,a.d=function(t,e,o){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(o,n,function(e){return t[e]}.bind(null,n));return o},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],i=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var l=i;s.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"034f":function(t,e,o){"use strict";var n=o("85ec"),r=o.n(n);r.a},"0a08":function(t,e,o){"use strict";var n=o("6ac0"),r=o.n(n);r.a},"56d7":function(t,e,o){"use strict";o.r(e);o("e260"),o("e6cf"),o("cca6"),o("a79d"),o("0cdd");var n=o("2b0e"),r=o("5f5b");o("ab8b"),o("2dd8");n["default"].use(r["a"]);var s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("router-view")],1)},a=[],c=(o("034f"),o("2877")),i={},u=Object(c["a"])(i,s,a,!1,null,null,null),l=u.exports,d=o("9483");Object(d["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var h=o("8c4f"),f=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"home"},[o("Categories")],1)},p=[],g=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container"},[o("div",{staticClass:"row justify-content-center"},[o("div",{staticClass:"list-group"},t._l(t.categories,(function(e){return o("router-link",{key:e.id,staticClass:"list-group-item list-group-item-action",attrs:{to:{name:"Category",params:{id:e.id}}}},[o("h4",[t._v(t._s(e.categoryName))]),t._v(" "+t._s(e.categoryDescription)+" ")])})),1)])])},b=[],m=o("5530"),v=o("2f62"),y={name:"Categories",computed:Object(m["a"])({},Object(v["c"])(["categories"])),created:function(){this.fetchCategories()},methods:Object(m["a"])({},Object(v["b"])(["fetchCategories"]))},C=y,w=Object(c["a"])(C,g,b,!1,null,"ef97b67e",null),k=w.exports,_={name:"Home",components:{Categories:k}},S=_,j=Object(c["a"])(S,f,p,!1,null,null,null),O=j.exports,x=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container"},[o("div",{staticClass:"row justify-content-center"},[o("div",{staticClass:"card",staticStyle:{width:"25rem"}},[o("div",{staticClass:"card-body"},[o("GameplayProgress"),o("div",{staticClass:"card-body"},[o("div",{staticClass:"infos"},[o("h4",{staticClass:"card-title"},[t._v(t._s(t.currentStock.name))]),o("h6",{staticClass:"card-subtitle mb-2 text-muted"},[t._v(t._s(t.currentStock.industry))]),o("div",{staticClass:"infos__fact"},[t._v(t._s(t.currentStock.fact))])]),o("div",{staticClass:"logo"},[o("div",{directives:[{name:"show",rawName:"v-show",value:t.showLogo,expression:"showLogo"}],staticClass:"logo"},[o("img",{staticClass:"rounded logo-img",attrs:{src:t.imageUrl(),alt:""},on:{error:t.logoLoadingError,load:t.logoLoaded}})])])]),o("div",{staticClass:"card-body quiz"},[t.showQuestion?o("p",{staticClass:"card-text"},[o("game-question")],1):t._e(),t.showAnswer?o("p",{staticClass:"card-text"},[o("game-answer",{attrs:{valueInMillion:t.currentStock.value_in_million}})],1):t._e(),t.gameEnded?o("p",{staticClass:"card-text"},[t._v(" Thanks for playing ")]):t._e()]),o("div",{staticClass:"card-body button-area"},[t.showQuestion?o("div",{staticClass:"w-100 btn-group btn-group-lg",attrs:{role:"group"}},[o("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.choseLess}},[t._v("Less ")]),o("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.choseMore}},[t._v("More ")])]):t._e(),t.showAnswer?o("div",{staticClass:"w-100 btn-group btn-group-lg",attrs:{role:"group"}},[o("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.nextStock}},[t._v("Next Stock ")])]):t._e(),t.gameEnded?o("div",{staticClass:"w-100 btn-group btn-group-lg",attrs:{role:"group"}},[o("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.backToCategories}},[t._v("Back to categories ")])]):t._e()])],1)])]),o("div",{directives:[{name:"show",rawName:"v-show",value:t.showLogo,expression:"showLogo"}]},[o("a",{staticClass:"logo-attribution",attrs:{href:"https://clearbit.com"}},[t._v("Logos provided by Clearbit")])])])},P=[],A=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"progress"},[o("div",{staticClass:"progress-bar",style:t.progressWidth(),attrs:{role:"progressbar"}})])},T=[],M={name:"GameplayProgress",props:{scored:Array},computed:Object(m["a"])({},Object(v["c"])(["choices","roundsToPlaySetting"])),methods:{progressWidth:function(){var t=this.roundsToPlaySetting,e=100*this.choices.length/t;return"width: ".concat(Math.round(e),"%;")}}},$=M,L=Object(c["a"])($,A,T,!1,null,null,null),E=L.exports,I=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("h5",[t._v("Market capitalisation of")]),o("h4",{staticClass:"font-weight-bold"},[t._v(t._s(t.currentStockAnchor)+" "+t._s(t.unit)+" $")]),t._m(0)])},G=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"question"},[o("h3",[t._v("less or more?")])])}],N={name:"GameQuestion.vue",data:function(){return{unit:"billion",value:0}},computed:Object(m["a"])({},Object(v["c"])(["currentStockAnchor"])),created:function(){this.currentStockAnchor>=1e4?this.unit="billion":this.unit="million"}},Q=N,B=(o("0a08"),Object(c["a"])(Q,I,G,!1,null,"6af1fa38",null)),q=B.exports,z=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("h4",{staticClass:"font-weight-bold"},[t._v(t._s(t.wasCorrect)+" "+t._s(t.value)+" "+t._s(t.unit)+" $")])])},R=[],H=(o("a9e3"),{name:"GameAnswer",props:{valueInMillion:Number},data:function(){return{value:0}},computed:Object(m["a"])(Object(m["a"])({},Object(v["c"])(["lastChoice"])),{},{wasCorrect:function(){return this.lastChoice?"Yes, ":"No, "}}),created:function(){this.valueInMillion>=1e4?(this.unit="billion",this.value=Math.floor(this.valueInMillion/1e3)):(this.unit="million",this.value=this.valueInMillion)}}),U=H,D=Object(c["a"])(U,z,R,!1,null,"872cae9e",null),F=D.exports,J={name:"Categories",components:{GameplayProgress:E,GameQuestion:q,GameAnswer:F},data:function(){return{showLogo:!1,gameEnded:!1,showQuestion:!1,showAnswer:!1}},computed:Object(m["a"])({},Object(v["c"])(["categoryById","currentStock","currentStockAnchor","stocksLeft","choices"])),methods:Object(m["a"])(Object(m["a"])({},Object(v["b"])(["fetchCategories"])),{},{logoLoadingError:function(){this.showLogo=!1},logoLoaded:function(){this.showLogo=!0},backToCategories:function(){this.$router.push("/")},imageUrl:function(){return"https://logo.clearbit.com/".concat(this.currentStock.website,"?size=500")},nextStock:function(){this.$store.dispatch("nextStock"),this.showAnswer=!1,this.showQuestion=!0},_afterChoosing:function(){this.showAnswer=!0,10===this.choices.length&&(this.gameEnded=!0,this.showAnswer=!1),this.showQuestion=!1},choseLess:function(){this.currentStock.value<this.currentStockAnchor?this.$store.dispatch("addChoice",!0):this.$store.dispatch("addChoice",!1),this._afterChoosing()},choseMore:function(){this.currentStock.value>this.currentStockAnchor?this.$store.dispatch("addChoice",!0):this.$store.dispatch("addChoice",!1),this._afterChoosing()}}),created:function(){var t=this;this.fetchCategories().then((function(){t.$store.dispatch("setCategory",t.$route.params.id),t.$store.dispatch("nextStock"),t.showQuestion=!0}))},destroyed:function(){this.$store.dispatch("resetGame")}},W=J,Y=(o("d0be"),Object(c["a"])(W,x,P,!1,null,"e4533136",null)),Z=Y.exports;n["default"].use(h["a"]);var K=[{path:"/",name:"Home",component:O},{path:"/categories/:id",name:"Category",component:Z}],V=new h["a"]({mode:"history",base:"/",routes:K}),X=V,tt=(o("7db0"),o("4160"),o("fb6a"),o("159b"),o("96cf"),o("1da1")),et=o("2909"),ot=o("59ca"),nt=(o("e71f"),{apiKey:"AIzaSyCyRbAZku97ZY0IISscvVPr7est7jBBHCg",authDomain:"lomo-7b4ed.firebaseapp.com",databaseURL:"https://lomo-7b4ed.firebaseio.com",projectId:"lomo-7b4ed",storageBucket:"lomo-7b4ed.appspot.com",messagingSenderId:"1013680092286",appId:"1:1013680092286:web:eb6ec6e4dc5d1ef4ca942f"});ot["initializeApp"](nt);var rt=ot["firestore"](),st=void 0;n["default"].use(v["a"]);var at=new v["a"].Store({state:{stocksToPlay:[],currentStock:{},choices:[],categories:[],roundsToPlaySetting:10},mutations:{addChoice:function(t,e){t.choices.push(e)},setNextStock:function(t){t.currentStock=t.stocksToPlay.shift()},setStocksToPlay:function(t,e){t.stocksToPlay=e},setCategory:function(t,e){t.stocksToPlay=Object(et["a"])(t.categories.find((function(t){return t.id===e})).stocks)},setCategories:function(t,e){t.categories=e},resetGame:function(t){t.currentStock={},t.stocksToPlay=[],t.choices=[]}},actions:{fetchCategories:function(t){return Object(tt["a"])(regeneratorRuntime.mark((function e(){var o,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=t.commit,e.next=3,rt.collection("categories").get();case 3:n=e.sent,r=[],n.forEach((function(t){r.push(Object(m["a"])({id:t.id.toLocaleLowerCase()},t.data()))})),o("setCategories",r);case 7:case"end":return e.stop()}}),e)})))()},addChoice:function(t,e){var o=t.commit;o("addChoice",e)},nextStock:function(t){var e=t.commit;e("setNextStock")},setStocksToPlay:function(t,e){var o=t.commit;o("setStocksToPlay",e)},resetGame:function(t){var e=t.commit;e("resetGame")},setCategory:function(t,e){var o=t.commit;o("setCategory",e)}},getters:{roundsToPlaySetting:function(t){return t.roundsToPlaySetting},currentStock:function(t){return t.currentStock},currentStockAnchor:function(t){var e=t.currentStock.value_in_million,o=0===Math.floor(2*Math.random()),n=.1,r=Math.floor(6*Math.random())/100+n,s=0;return s=o?e+e*r:e-e*r,e>=1e4?Math.floor(s/1e3):Math.floor(s)},stocks:function(t){return t.stocksToPlay},stocksLeft:function(t){return t.stocksToPlay.length},choices:function(t){return t.choices},lastChoice:function(t){return Object(et["a"])(t.choices).pop()},categories:function(t){return t.categories},categoryById:function(t){return function(e){var o=st.roundsToPlaySetting();return t.categories.find((function(t){return t.id===e})).slice(0,o)}}}});n["default"].config.productionTip=!1,new n["default"]({router:X,store:at,render:function(t){return t(l)}}).$mount("#app")},"6ac0":function(t,e,o){},"85ec":function(t,e,o){},c6f5:function(t,e,o){},d0be:function(t,e,o){"use strict";var n=o("c6f5"),r=o.n(n);r.a}});
//# sourceMappingURL=app.508a2e00.js.map